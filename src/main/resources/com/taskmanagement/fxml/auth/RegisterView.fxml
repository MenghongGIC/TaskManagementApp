<?xml version="1.0" encoding="UTF-8"?>


<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.control.Hyperlink?>

<StackPane alignment="CENTER"
           styleClass="login-container"
           stylesheets="@../../css/style.css"
           xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.taskmanagement.controller.RegisterController">

    <VBox alignment="TOP_CENTER" 
          spacing="20.0"
          prefWidth="400"
          prefHeight="650"
          minWidth="400"
          maxWidth="400"
          minHeight="650"
          maxHeight="650"
          style="-fx-background-color: transparent;">

        <padding>
            <Insets top="30" right="40" bottom="40" left="40" />
        </padding>

        <children>
            <Label text="Create Account" 
                   styleClass="login-title" />

            <Label text="Join us today" 
                   styleClass="login-subtitle" />

            <VBox spacing="12" 
                  styleClass="login-form-card">
                <children>
                    <VBox spacing="6">
                        <Label text="Email Address" 
                               styleClass="form-label" />
                        <TextField fx:id="emailField" 
                                   promptText="Enter your email" 
                                   styleClass="form-input" />
                    </VBox>

                    <VBox spacing="6">
                        <Label text="Username" 
                               styleClass="form-label" />
                        <TextField fx:id="usernameField" 
                                   promptText="Choose a username" 
                                   styleClass="form-input" />
                    </VBox>

                    <VBox spacing="6">
                        <Label text="Password" 
                               styleClass="form-label" />
                        <StackPane prefHeight="42">
                            <PasswordField fx:id="passwordField" 
                                          promptText="Minimum 8 characters" 
                                          styleClass="form-password" />
                            <TextField fx:id="passwordFieldVisible" 
                                      promptText="Minimum 8 characters" 
                                      visible="false" 
                                      styleClass="form-input" />
                        </StackPane>
                    </VBox>

                    <CheckBox fx:id="showPasswordCheckBox" 
                              mnemonicParsing="false" 
                              onAction="#togglePasswordVisibility" 
                              text="Show password" 
                              styleClass="form-checkbox" />

                    <VBox spacing="6">
                        <Label text="Confirm Password" 
                               styleClass="form-label" />
                        <StackPane prefHeight="42">
                            <PasswordField fx:id="confirmPasswordField" 
                                          promptText="Re-enter your password" 
                                          styleClass="form-password" />
                            <TextField fx:id="confirmPasswordFieldVisible" 
                                      promptText="Re-enter your password" 
                                      visible="false" 
                                      styleClass="form-input" />
                        </StackPane>
                    </VBox>

                    <CheckBox fx:id="showConfirmPasswordCheckBox" 
                              mnemonicParsing="false" 
                              onAction="#toggleConfirmPasswordVisibility" 
                              text="Show password" 
                              styleClass="form-checkbox" />

                    <Label fx:id="errorLabel" 
                           styleClass="error-label"
                           visible="false"
                           wrapText="true" />

                    <Label fx:id="successLabel" 
                           styleClass="success-label"
                           visible="false"
                           wrapText="true" />

                    <HBox alignment="CENTER">
                        <Button text="Register"
                                onAction="#handleRegister"
                                prefWidth="300"
                                prefHeight="42"
                                styleClass="login-button" />
                    </HBox>
                    
                    <HBox alignment="CENTER" spacing="5">
                        <Label text="Already have an account?" 
                               styleClass="register-text" />
                        <Hyperlink text="Sign in"
                                   onAction="#handleBackToLogin"
                                   styleClass="register-hyperlink" />
                    </HBox>
                </children>
            </VBox>
        </children>
    </VBox>
</StackPane>
