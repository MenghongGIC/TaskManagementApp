<?xml version="1.0" encoding="UTF-8"?>

// ====================================================================
// Login View - User Authentication Interface
// ====================================================================

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Hyperlink?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>

<StackPane alignment="CENTER"
           styleClass="login-container"
           stylesheets="@../../css/style.css"
           xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.taskmanagement.controller.LoginController">

    // ============ Main Content Container ============
    <VBox alignment="TOP_CENTER" 
          spacing="20.0"
          prefWidth="400"
          prefHeight="500"
          minWidth="400"
          maxWidth="400"
          minHeight="500"
          maxHeight="500"
          style="-fx-background-color: transparent;">

        <padding>
            <Insets top="40" right="40" bottom="40" left="40" />
        </padding>

        <children>
            // ============ Header Section ============
            <Label text="Task Management System" 
                   styleClass="login-title" />

            <Label text="Sign in to continue" 
                   styleClass="login-subtitle" />

            // ============ Login Form Card ============
            <VBox spacing="15" 
                  styleClass="login-form-card">
                <children>
                    // ---------- Username Field ----------
                    <VBox spacing="6">
                        <Label text="Username" 
                               styleClass="form-label" />
                        <TextField fx:id="usernameField" 
                                   promptText="Enter your username" 
                                   styleClass="form-input" />
                    </VBox>

                    // ---------- Password Field with Toggle ----------
                    <VBox spacing="6">
                        <Label text="Password" 
                               styleClass="form-label" />
                        <StackPane prefHeight="42">
                            // Hidden password field (default)
                            <PasswordField fx:id="passwordField" 
                                          promptText="Enter your password" 
                                          styleClass="form-password" />
                            // Visible password field (when toggled)
                            <TextField fx:id="passwordFieldVisible" 
                                      promptText="Enter your password" 
                                      visible="false" 
                                      styleClass="form-input" />
                        </StackPane>
                    </VBox>

                    // ---------- Show Password Toggle ----------
                    <CheckBox fx:id="showPasswordCheckBox" 
                              mnemonicParsing="false" 
                              onAction="#togglePasswordVisibility" 
                              text="Show password" 
                              styleClass="form-checkbox" />

                    // ---------- Error Display ----------
                    <Label fx:id="errorLabel" 
                           styleClass="error-label"
                           visible="false"
                           wrapText="true" />

                    // ---------- Login Action Button ----------
                    <HBox alignment="CENTER">
                        <Button text="Login"
                                onAction="#handleLogin"
                                prefWidth="300"
                                prefHeight="42"
                                styleClass="login-button" />
                    </HBox>
                    
                    // ---------- Register Link ----------
                    <HBox alignment="CENTER" spacing="5">
                        <Label text="Don't have an account?" 
                               styleClass="register-text" />
                        <Hyperlink text="Register here"
                                   onAction="#handleRegister"
                                   styleClass="register-hyperlink" />
                    </HBox>
                </children>
            </VBox>
        </children>
    </VBox>
</StackPane>